# - Config file for the ISSofaPython package
# It defines the following variables
# - ISSofaPython_INCLUDE_DIRS : include directories for ISSofaPython
# - ISSofaPython_LIBRARIES    : libraries to link against

include(CMakeFindDependencyMacro)

list(FIND CMAKE_MODULE_PATH "${CMAKE_CURRENT_LIST_DIR}" HAS_ISSOFAPYTHON_CMAKE_MODULE_PATH)

if(HAS_ISSOFAPYTHON_CMAKE_MODULE_PATH EQUAL -1)
    list(APPEND CMAKE_MODULE_PATH ${CMAKE_CURRENT_LIST_DIR})
endif()

# global variable to keep track of the last added package by the 
# issofapython_add_package function from ISSofaPythonSetupTools.
# with the current approach this variable is used to create dependencies so that
# no concurrent write is made in the generated user site packages easy-install.pth 
# by python pip.
set(GLOBAL property ISSOFAPYTHON_LAST_ADDED_PACKAGE)

# make the issofapython_add_package method reachable
include(ISSofaPythonSetupTools)

find_package(SofaSimulation REQUIRED)
find_package(pybind11 REQUIRED)

if(NOT TARGET ISSofaPython)
    include("${CMAKE_CURRENT_LIST_DIR}/ISSofaPythonTargets.cmake")
endif()

get_property(ISSofaPython_INCLUDE_DIRS TARGET ISSofaPython PROPERTY INTERFACE_INCLUDE_DIRECTORIES)
get_property(ISSofaPython_LIBRARIES TARGET ISSofaPython PROPERTY INTERFACE_LINK_LIBRARIES)

set(ISSofaPython_LIBRARIES ISSofaPython ${ISSofaPython_LIBRARIES})
